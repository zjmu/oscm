<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.jmu.oscm.mapper.CompletionMapper">

    <resultMap id="mapper" type="edu.jmu.oscm.model.Completion">
        <result column="plan_month_target_value" property="planMonthTargetValue"/>
        <result column="plan_total_reduce_value" property="planTotalReduceValue"/>
        <result column="actual_month_target_value" property="actualMonthTargetValue"/>
        <result column="actual_total_reduce_value" property="actualTotalReduceValue"/>
        <association property="item" column="ITEM_ID" select="edu.jmu.oscm.mapper.ItemMapper.getItemByItemId"/>
        <collection property="itemDept" column="ITEM_ID" select="edu.jmu.oscm.mapper.ItemDeptMapper.getResponsibleItemDept"/>
    </resultMap>

    <select id="selectByDate" resultMap="mapper">
        SELECT ITEM_ID,plan_month_target_value,plan_total_reduce_value,actual_month_target_value,
        actual_total_reduce_value FROM ad_balance_target_value WHERE year=#{year} and month=#{month}
    </select>

</mapper>